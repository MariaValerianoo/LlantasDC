create database BDMascotas;
use BDMascotas;
create table cliente(
cedulaCliente int(11) primary key not null,
nombreCliente varchar(15) null,
apellidoCliente varchar(15) null,
direccionCliente varchar(15) null,
telefono int(10)  null,
idMascotaFK int(11) not null unique


);
create table producto(
codigoProducto int(11) primary key not null,
nombreProducto varchar(15) not null,
marca varchar(15) not null,
precio float not null,
cedulaClienteFK int(11) not null unique


);
create table mascota(
idMascota int(11) primary key not null,
nombreMascota varchar (15) not null,
generoMascota varchar(15) not null,
razaMascota varchar (15) not null,
cantidad int(10)

);
create table mascota_vacuna(
codigoVacunaFK int (11) not null,
idMascotaFK int(11) not null,
enfermedad varchar(15) not null

);
create table vacuna(
codigoVacuna int(11) primary key not null,
nombreVacuna int(10),
dosisVacuna int(10),
enfermedad varchar(15)

);
alter table producto
add constraint Productclien
foreign key(cedulaClienteFK)
references cliente(cedulaCliente);

alter table cliente
add constraint clienteMasc
foreign key(idMascotaFK)
references mascota(idMascota);

alter table mascota_vacuna
add constraint mascMVac
foreign key(idMascotaFK)
references mascota(idMascota);

alter table mascota_vacuna
add constraint VacMasV
foreign key(codigoVacunaFK)
references vacuna(codigoVacuna);
/*PUNTO 4*/
alter table producto add column cantidad int(10)  not null;
/*punto 5*/
alter table mascota change column cantidad cantidadMascota int(10);
/*punto 6*/
alter table mascota_vacuna rename detallevacuna;
alter table vacuna
modify column nombreVacuna varchar(50) not null;
alter table cliente
modify column telefono varchar(20) not null;
select * from mascota;
describe vacuna;
insert into mascota values(1,'Lupe','f','criollo',1);
insert into mascota values(2,'Luna','f','criollo',1),(3,'Bombon','f','Criollo',1);
insert into mascota values(4,'fermin','m','criollo','');
insert into vacuna values(12,'rabia',50,'rabia'),(13,'gripa',40,'peste');
select * from vacuna;
describe cliente;
insert into cliente values(1028481760,'mafe','Valeriano','calle10',3103305802,1),(1014661499,'danna','solano','calle15',3222044815,2);
select * from cliente;
describe producto;
insert into producto values(15,'shampoo','pet',11.500,1028481760,2),(2,'comida','pet',11.300,1014661499,2);
select * from producto;
describe detallevacuna;
insert into detallevacuna values(12,1,'rabia'),(13,3,'gripa');
select * from detallevacuna;

select nombreMascota,razaMascota from mascota;
select cedulaCliente as 'Documento', direccionCliente as 'DirecciÃ³n' from cliente;
describe vacuna;
select dosisVacuna as 'Dosis', enfermedad as 'Enfermedad' from vacuna;
describe producto;
select precio as 'precio', nombreProducto as 'Producto' from producto;
describe mascota;
select nombreMascota as 'Nombre', generoMascota as 'Genero' from mascota;
select nombreProducto from producto order by nombreProducto ASC;
select nombreMascota from mascota order by generoMascota ASC;
select nombreProducto,marca from producto order by precio DESC;

select nombreProducto from producto where precio >= 11.000;
select enfermedad from detalleVacuna where codigoVacunaFK >= 5;
select nombreProducto from producto where precio >= 11.000 and codigoProducto>2;
select nombreProducto from producto where precio >= 11.000 or codigoProducto<2;

/* dos consultas usando operadores logicos y operadores relacionales  vacuna, cliente mascota de tipo varchar*/
describe vacuna;
select* from vacuna;
select nombreVacuna from vacuna where dosisVacuna >= 15;
select codigoVacuna from vacuna where enfermedad='rabia';
select codigoVacuna from vacuna where enfermedad='rabia' and dosisVacuna>=30;
select codigoVacuna from vacuna where enfermedad='rabia' or dosisVacuna =40;


describe cliente;
select* from cliente;
select cedulaCliente from cliente where idMascotaFK <= 15;
select idMascotaFk from cliente where telefono='3222044815';
select apellidoCliente from cliente where telefono='3103305802' and idMascotaFK<=15;
select direccionCliente from cliente where telefono='3103305802' or cedulaCliente >=40;


describe mascota;
select* from mascota;
select generoMascota from mascota where idMascota<= 15;
select razaMascota from mascota where generoMascota='f';
select cantidadMascota from mascota where generoMascota='m' and idMascota<=15;
select nombreMascota from mascota where generoMascota='f' or cantidadMascota=0;

select idMascota from mascota where cantidadMascota like '4%';



/* dos busquedas de tipo like en cada tabla*/


